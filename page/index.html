<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>webser</title>
</head>
<body>
    <h1>Webser</h1>
    <form id="testApi">
        <select id="method">
            <option value="GET">GET</option>
            <option value="POST">POST</option>
            <option value="PUT">PUT</option>
            <option value="DELETE">DELETE</option>
        </select>
        <input type="text" name="url" id="url" placeholder="url for test">
		<input type="text" name="port" id="port" placeholder="port" onkeypress="return onlyNumberKey(event)">
        <button type="submit" id="submit">submit</button>
    </form>
    <!-- show result -->
    <div id="output"></div>

    <!-- script -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> <!-- cdn axios -->
    <script>
		const method = document.getElementById("method");
		const port = document.getElementById("port");
		const url = document.getElementById("url");
		const submit = document.getElementById("submit");
		const output = document.getElementById('output');

		submit.addEventListener("click", (e) => {
		e.preventDefault(); // not refresh page

		const v_method = method.value ? method.value : "GET";
		const v_port = port.value ? port.value : "443";
		const v_url = url.value ? url.value : "https://127.0.0.1";

		axios.request({
				method: v_method,
				url: v_url + ":" + v_port,
			}).then(function (response) {
				// console.log(response); // show all response
				// let txt = JSON.stringify(response.data); // convert JSON to string
				// output.innerHTML = txt; // open when response is JSON
				output.innerHTML = response.data; // open when response is text
			}).catch(function (error) {
				console.log(error);
			});
		});

		const onlyNumberKey = (evt) => {            
			let ASCIICode = (evt.which) ? evt.which : evt.keyCode

			if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))
				return false;
			return true;
		}
	</script>
</body>
</html>